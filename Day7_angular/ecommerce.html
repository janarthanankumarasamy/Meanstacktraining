<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body ng-app="ecommerceApp" ng-controller="ecommerceContoller">
    <h1>Product calculation</h1>
    <input
      type="text"
      name="amount"
      id="amount"
      ng-model="amount"
      placeholder="Enter purchase amount"
    /><br />
    <input
      type="text"
      name="card"
      id="card"
      ng-model="card"
      placeholder="Enter yes or no"
    /><br />
    <button ng-click="result()">Bill</button><br /><br />
    <label>Purchase Amount:{{amount}}</label><br />
    <label>Discount:{{discount}}</label><br />

    <script>
      var app = angular.module("ecommerceApp", []);
      app.controller("ecommerceContoller", function($scope) {
        $scope.amount = 0;
        $scope.discount = 0;
        $scope.card;

        $scope.result = function() {
          output = 0;
          if ($scope.amount <= 10000 && $scope.card == "yes") {
            output = $scope.amount / 10 + ($scope.amount / 10) * 0.5;
            $scope.discount = output;
          } else if ($scope.amount <= 10000 && $scope.card == "no") {
            output = $scope.amount / 10;
            $scope.discount = output;
          }
          // console.log("discount:", discount);
          if (
            $scope.amount > 10000 &&
            $scope.amount <= 20000 &&
            $scope.card == "yes"
          ) {
            output = ($scope.amount / 10) * 2 + ($scope.amount / 10) * 0.5;
            $scope.discount = output;
          } else if (
            $scope.amount > 10000 &&
            $scope.amount <= 20000 &&
            $scope.card == "no"
          ) {
            output = ($scope.amount / 10) * 2;
            $scope.discount = output;
          }
          if (
            $scope.amount > 20000 &&
            $scope.amount <= 30000 &&
            $scope.card == "yes"
          ) {
            output = ($scope.amount / 10) * 3 + ($scope.amount / 10) * 0.5;
            $scope.discount = output;
          } else if (
            $scope.amount > 20000 &&
            $scope.amount <= 30000 &&
            $scope.card == "no"
          ) {
            output = ($scope.amount / 10) * 3;
            $scope.discount = output;
          }
          if ($scope.amount >= 35000 && $scope.card == "yes") {
            output = ($scope.amount / 10) * 3.5 + ($scope.amount / 10) * 0.5;
            $scope.discount = output;
          } else if ($scope.amount >= 35000 && $scope.card == "no") {
            output = ($scope.amount / 10) * 3.5;
            $scope.discount = output;
          }
          // return $scope.discount;
        };
      });
    </script>
  </body>
</html>
